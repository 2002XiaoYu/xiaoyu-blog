# 第四周：循环

## 4.1循环

### 三位数逆序的题

```c
#include <stdio.h>
int main(){
	int x;
	int n=0;
	scanf("%d", &x);
	n++;
	x /= 10;
	while(x>0){
		n++;
		x /= 10;
	} 
	printf("%d\n", n);
	return 0;
}
```

### while循环

1.如果我们把while翻译作"当"，那么一个while循环的意思就是：当条件满足的时候，不断的重复循环体内的语句

2.循环执行前判断是否继续循环，所以可能一次循环一次也没有执行

3.条件成立是循环继续的条件

### 验证

1.测试程序常使用边界数据，如有效范围两端的数据、特殊的倍数等

2.个位数，10，0，负数

### 调试

在程序适当的地方插入printf()来输出变量的内容

### do while循环

在进入循环的时候不做检查，而是在执行完一轮循环体的代码之后，再来检查循环的条件是否满足，如果满足则继续下一轮循环，不满足则循环结束

```c
do{
  循环体语句
}while(循环条件);
```

### 两种循环

do while循环 和 while循环很像，区别是在循环体执行结束的时候才来判断条件。也就是说，无论如何，循环都会执行一遍，然后再来判断条件。与while循环相同的是，条件满足时执行循环，条件不满足时结束循环

## 4.2循环计算

### 小套路

计算之前先保存原始的值，后面可能有用。重新定义一个变量来存放计算后的值

### 计数循环

```c
#include <stdio.h>

int main()
{
    int n = 3;
    
    while ( n>= 0 ) {
        printf("%d ", n);
        n--;
    }
    printf("发射\n");
    
    return 0;
}
```

1.这个循环需要执行多少次？

2.循环停下来的时候，有没有输出最后的0？

3.循环结束后，count的值是多少？



技巧：如果要模拟运行一个很大次数的循环，可以模拟较少的循环次数，然后做出推断

### 循环应用(猜数游戏)

#### 需求

让计算机来想一个数，然后让用户来猜，用户每输入一个数，就告诉用户是大了还是小了，直到用户猜到为止，最后还要告诉用户他猜了几次

#### 思路

​           因为需要不断重复让用户猜，所以需要用到循环

​           在实际写出程序之前，我们可以先用文字描述程序的思路

​           核心重点是循环的条件

​           人们往往会考虑循环终止的条件



#### 随机数

每次召唤rand()就可以得到一个随机数



#### 代码块

```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main(){
    //不加srand(time(0));的话，每次循环的数都一样
    srand(time(0));
	int number = rand()%100+1;
	int count = 0;
	int a = 0;
	printf("我已经想好了一个1到100之间的数。");
	do {
		printf("请猜这个1到100之间数：");
		scanf("%d", &a);
		if ( a > number ) {
			printf("你猜的数大了。");
		} else if ( a < number ) {
			printf("你猜的数小了。");
		}
		count ++;
	} while (a != number);
	printf("太好了，你用了%d次就猜到了答案。\n", count);
	
	return 0;
}
```

#### %100

x%n的结果是[0,n-1]的一个整数

### 算平均数

#### 需求

1.让用户输入一系列的正整数，最后输入-1表示输入结束，然后程序计算出这些数字的平均数，输出输入的数字的个数和平均数

2.变量->算法->流程图->程序

#### 变量

1.一个记录读到的整数的变量

2.平均数要怎么算？

3.只需要每读到一个数，就把它加到一个累加的变量里，到全部数据读完，再拿它去除读到的数的个数就可以了

4.一个变量记录累加的结果，一个变量记录读到的数的个数

#### 算法

1.初始化变量sum和count为0;

2.读入number;

3.如果number不是-1，则将number加入sum，并将count加1，回到2;

4.如果number是-1，则计算和打印出sum/count(注意换成浮点数来计算)

#### 代码块

```c
#include <stdio.h>

int main()
{
    int sum = 0;
    int count = 0;
    int number;
    
    scanf("%d", &number);
    while ( number != -1 ) {
        sum += number;
        count ++;
        scanf("%d", &number);
    }
    
    double dsum = sum;
    printf("The average is %f.\n", dsum / count);
    
    return 0;
}
```

### 整数的分解

1.一个整数是由1-多位数字组成的，如何分解出整数的各个位上的数字，然后加以计算

2.对一个整数做%10的操作，就得到它的个位数

3.对一个整数做/10的操作，就去掉了它的个位数

4.然后再对2的结果做%10,就得到原来数的十位数

....以此类推

### 数的逆序

1.输出一个正整数，输出逆序的数

2.结尾的0的处理